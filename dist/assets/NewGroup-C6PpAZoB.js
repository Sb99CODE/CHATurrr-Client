import{d as v,u as N,aY as C,r as y,j as e,S as n,v as M,aZ as S,_ as m,$ as A}from"./index-cg0HLfUH.js";import{u as T}from"./index-Evh1z2eq.js";import{b as k,a as D}from"./Menu-BoKfsZEJ.js";import{U as E}from"./UserItem-BICkK1Ig.js";import{D as H,a as _}from"./DialogTitle-C2W9bb5I.js";import{T as I}from"./TextField-1E1HYcoJ.js";import{T as z}from"./Typography-C8iy1uN8.js";import{B as c}from"./Button-B6Lohw-c.js";import"./Modal-BTIp2LLF.js";import"./ListItem-DOFOj8C6.js";import"./Menu-BTXWW0Dp.js";import"./isMuiElement-Bx8imJWi.js";import"./Avatar-BvyMi6ro.js";import"./IconButton-BswfLypL.js";import"./Delete-BAXklz8b.js";const X=()=>{var l;const{isNewGroup:u}=v(r=>r.misc),p=N(),{isError:d,isLoading:x,error:h,data:o}=C(),[f,g]=k(S),s=T(""),[t,j]=y.useState([]);D([{isError:d,error:h}]);const b=r=>{j(i=>i.includes(r)?i.filter(G=>G!==r):[...i,r])},w=()=>{if(!s.value)return m.error("Group name is required");if(t.length<2)return m.error("Please Select Atleast 3 Members");f("Creating New Group...",{name:s.value,members:t}),a()},a=()=>{p(A(!1))};return e.jsx(H,{onClose:a,open:u,children:e.jsxs(n,{p:{xs:"1rem",sm:"3rem"},width:"25rem",spacing:"2rem",children:[e.jsx(_,{textAlign:"center",variant:"h4",children:"New Group"}),e.jsx(I,{label:"Group Name",value:s.value,onChange:s.changeHandler}),e.jsx(z,{variant:"body1",children:"Members"}),e.jsx(n,{children:x?e.jsx(M,{}):(l=o==null?void 0:o.friends)==null?void 0:l.map(r=>e.jsx(E,{user:r,handler:b,isAdded:t.includes(r._id)},r._id))}),e.jsxs(n,{direction:"row",justifyContent:"space-evenly",children:[e.jsx(c,{variant:"text",color:"error",size:"large",onClick:a,children:"Cancel"}),e.jsx(c,{variant:"contained",size:"large",onClick:w,disabled:g,children:"Create"})]})]})})};export{X as default};
