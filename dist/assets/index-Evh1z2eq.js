import{r as t}from"./index-cg0HLfUH.js";const v=new Map,y=(n,l,g=[])=>{const[h,c]=t.useState(),[m,i]=t.useState(!1),[d,a]=t.useState(""),[u,e]=t.useState(0);return t.useEffect(()=>{const o=new AbortController;if(v.has(l)){c(JSON.parse(v.get(l)));return}return i(!0),fetch(n,{credentials:"include",signal:o.signal}).then(async s=>{const p=await s.json();if(s.ok)c(p),v.set(l,JSON.stringify(p));else throw new Error(p.message||"Errro while fetching!")}).catch(s=>{s.name!=="AbortError"&&a(s.message||"Something went wrong!")}).finally(()=>i(!1)),()=>{o.abort()}},[u,...g]),{data:h,loading:m,error:d,refetch:()=>{v.delete(l),e(o=>o+1)},clearCache:()=>{v.delete(l)}}},E=n=>/^[a-zA-Z0-9]+$/.test(n),b=(n,l=5,g=10)=>{const[m,i]=t.useState(null),[d,a]=t.useState(null),[u,e]=t.useState(null);return{file:d,preview:u,error:m,changeHandler:r=>{if(r.target.files){const o=r.target.files[0];if(r.target.files.length>1)return i("Cannot upload more than 1 file, please select type as 'Multiple'");if(o.size>1024*1024*l)return i("File size too large");const s=new FileReader;s.readAsDataURL(o),s.onloadend=()=>{e(s.result)},a(o)}}}},x=(n,l=()=>{})=>{const[g,h]=t.useState(n),[c,m]=t.useState("");return{value:g,changeHandler:d=>{let a;typeof g=="number"?a=Number(d.target.value):a=d.target.value,h(a);const u=l(a);m(u?u.errorMessage:"")},error:c}},A=(n,l,g,h,c,m=!1)=>{const[i,d]=t.useState([]),a=t.useRef(null),u=t.useCallback(()=>{a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{if(!n.current)return;const{scrollTop:e}=n.current;if(e===0){if(l===g)return;h(r=>r+1)}},200)},[l,g]);return t.useEffect(()=>{const e=n.current;return e&&e.addEventListener("scroll",u),()=>{e&&e.removeEventListener("scroll",u)}},[u,i]),t.useEffect(()=>{let e=0,f=0;n.current&&(e=n.current.scrollHeight,f=n.current.scrollTop),c&&d(r=>{const o=new Set(r.map(p=>p._id)),s=c==null?void 0:c.filter(p=>!o.has(p._id));return m?[...(Array.isArray(s)?[...s]:[s]).reverse(),...r]:[...s,...r]}),requestAnimationFrame(()=>{if(n.current){const r=f+n.current.scrollHeight-e;n.current.scrollTop=r}})},[c]),{data:i,setData:d}};t.memo(({size:n=10,color:l="black",styles:g,zoom:h="2",mode:c="normal"})=>{if(n<1||n>40)throw new Error("Size must be between 1 and 40");const m=t.useRef(),i=t.useRef({x:0,y:0}),d=t.useRef(!1),a=e=>{i.current={x:e.clientX,y:e.clientY};const r=e.target.getAttribute("data-firebolt-zoom");d.current=!!r},u=t.useCallback(()=>{let e=i.current.x,f=i.current.y;const r=m.current;r&&(Array.from(r).forEach((o,s)=>{o.style.left=`${e-12}px`,o.style.top=`${f-12}px`,o.x=e,o.y=f;const p=(r.length-s)/r.length;o.style.scale=p.toString();const S=r[s+1]||r[0];e+=(Number(S.x||0)-e)*.3,f+=(Number(S.y||0)-f)*.3,s===0&&d.current&&(o.style.scale=h)}),requestAnimationFrame(u))},[]);return t.useEffect(()=>(m.current=document.getElementsByClassName("6pp-firebolt-Cursor"),u(),window.addEventListener("mousemove",a),()=>{window.removeEventListener("mousemove",a)}),[]),t.createElement("div",{style:{zIndex:"10000",mixBlendMode:c,pointerEvents:"none"}},Array.from({length:n}).map((e,f)=>t.createElement("div",{className:"6pp-firebolt-Cursor",key:f,style:{position:"fixed",height:"24px",width:"24px",borderRadius:"50%",left:0,top:0,backgroundColor:l,userSelect:"none",pointerEvents:"none",transition:"scale 0.2s",...g}})))});export{b as a,A as b,y as c,E as i,x as u};
