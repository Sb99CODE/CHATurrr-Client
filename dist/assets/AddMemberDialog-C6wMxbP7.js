import{u as S,d as y,aY as C,r as D,j as e,S as o,v as k,b3 as E,ai as H}from"./index-cg0HLfUH.js";import{U as T}from"./UserItem-BICkK1Ig.js";import{b as v,a as w}from"./Menu-BoKfsZEJ.js";import{D as B,a as F}from"./DialogTitle-C2W9bb5I.js";import{T as I}from"./Typography-C8iy1uN8.js";import{B as c}from"./Button-B6Lohw-c.js";import"./ListItem-DOFOj8C6.js";import"./Menu-BTXWW0Dp.js";import"./Modal-BTIp2LLF.js";import"./isMuiElement-Bx8imJWi.js";import"./Avatar-BvyMi6ro.js";import"./IconButton-BswfLypL.js";import"./Delete-BAXklz8b.js";const P=({chatId:n})=>{var d,m;const l=S(),{isAddMember:p}=y(s=>s.misc),{isLoading:u,data:r,isError:b,error:x}=C(n),[g,h]=v(E),[a,M]=D.useState([]),j=s=>{M(i=>i.includes(s)?i.filter(A=>A!==s):[...i,s])},t=()=>{l(H(!1))},f=()=>{g("Adding Members...",{members:a,chatId:n}),t()};return w([{isError:b,error:x}]),e.jsx(B,{open:p,onClose:t,children:e.jsxs(o,{p:"2rem",width:"20rem",spacing:"2rem",children:[e.jsx(F,{textAlign:"center",children:"Add Member"}),e.jsx(o,{spacing:"1rem",children:u?e.jsx(k,{}):((d=r==null?void 0:r.friends)==null?void 0:d.length)>0?(m=r==null?void 0:r.friends)==null?void 0:m.map(s=>e.jsx(T,{user:s,handler:j,isAdded:a.includes(s._id)},s._id)):e.jsx(I,{textAlign:"center",children:"No Friends"})}),e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-evenly",children:[e.jsx(c,{color:"error",onClick:t,children:"Cancel"}),e.jsx(c,{onClick:f,variant:"contained",disabled:h,children:"Submit Changes"})]})]})})};export{P as default};
